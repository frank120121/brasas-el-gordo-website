/* assets/css/input.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== COMPONENT CLASSES ===== */
@layer components {
    /* Navigation */
    .nav-link {
        @apply text-gray-700 font-bold text-sm uppercase tracking-wider transition-colors duration-200 hover:text-primary;
    }
    .nav-link.active {
        @apply text-primary;
    }

    /* Buttons */
    .btn {
        @apply bg-primary text-white font-bold uppercase tracking-wider px-12 py-4 transition-all duration-300 hover:bg-primary-dark hover:-translate-y-0.5;
    }

    .btn-secondary {
        @apply bg-transparent border-2 border-brown text-brown font-bold uppercase tracking-wider px-8 py-3 transition-all duration-300 hover:bg-brown hover:text-white;
    }

    /* Cards */
    .hover-lift {
        @apply transition-all duration-300 hover:-translate-y-2 hover:shadow-xl;
    }

    .product-card {
        @apply bg-white shadow-lg rounded-3xl;
    }

    /* Text effects */
    .text-gradient {
        @apply bg-gradient-to-r from-orange-500 to-orange-300 bg-clip-text text-transparent;
    }

    /* Animations */
    .fade-in {
        @apply opacity-0 translate-y-8 transition-all duration-700 ease-out;
    }
    .fade-in.visible {
        @apply opacity-100 translate-y-0;
    }

    .shine {
        @apply relative overflow-hidden;
    }
    .shine::before {
        content: '';
        @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent transition-all duration-500;
        left: -100%;
    }
    .shine:hover::before {
        left: 100%;
    }

    /* Glass effects */
    .glass {
        @apply bg-white/10 backdrop-blur-sm border border-white/10;
    }

    .glass-dark {
        @apply bg-black/30 backdrop-blur-xl border border-white/10;
    }

    /* Header styles */
    .header-scrolled {
        @apply bg-white/95 backdrop-blur-xl shadow-lg border-b border-gray-200;
    }

    .location-picker, .user-actions {
        @apply flex items-center gap-2 text-brown px-2 py-1 rounded-lg cursor-pointer transition-all duration-200 hover:text-primary hover:bg-gray-50;
    }

    .cart-icon {
        @apply text-brown p-2 rounded-lg transition-all duration-200 hover:text-primary hover:bg-gray-50;
    }

    /* Mobile menu */
    .mobile-menu {
        @apply transform translate-x-full transition-transform duration-300 ease-in-out;
    }
    .mobile-menu.show {
        @apply translate-x-0;
    }

    /* Hero section - Adjusted for better fold visibility */
    .hero-background {
        @apply absolute inset-0 z-0;
    }

    .hero-overlay {
        @apply absolute inset-0 bg-black/40 z-10;
    }

    .hero-content {
        @apply relative z-20;
    }

    .hero-badge {
        @apply border-4 border-white px-6 py-2 font-black text-white inline-block;
    }

    .hero-title-main {
        @apply font-black text-white leading-tight mb-4;
        font-size: clamp(2rem, 6vw, 4rem); /* Reduced from 8vw, 6rem */
    }

    .hero-title-accent {
        @apply font-black text-orange-500 leading-none;
        font-size: clamp(3rem, 8vw, 6rem); /* Reduced from 10vw, 8rem */
    }

    .hero-subtitle {
        @apply font-bold text-white tracking-widest mb-6;
    }

    .hero-description {
        @apply text-white leading-relaxed mb-8 max-w-2xl;
    }

    /* Cart styles - FIXED */
    .cart-item {
        @apply bg-white border border-gray-200 rounded-2xl p-4 transition-all duration-200 hover:shadow-md hover:-translate-y-0.5;
    }

    .cart-item-removing {
        @apply opacity-0 translate-x-full transition-all duration-300;
    }

    .quantity-btn {
        @apply w-8 h-8 rounded-full flex items-center justify-center font-bold transition-all duration-200 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
    }

    .remove-item-btn {
        @apply p-2 rounded-lg transition-all duration-200 hover:bg-red-50 hover:text-red-600 hover:scale-105;
    }

    .add-to-cart-btn {
        @apply bg-gray-900 text-white font-semibold px-6 py-3 rounded-2xl transition-all duration-300 hover:bg-orange-500;
    }
    .add-to-cart-btn.added {
        @apply bg-green-500 text-white;
    }

    /* Loading states */
    .cart-updating {
        @apply pointer-events-none opacity-70;
    }

    .cart-loading::after {
        content: '';
        @apply inline-block w-4 h-4 border-2 border-gray-300 border-t-orange-500 rounded-full ml-2;
        animation: spin 1s linear infinite;
    }

    /* Above the fold container - contains header, home, and loyalty */
    .above-fold-container {
        height: 100vh;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    /* Header within above-fold container */
    .above-fold-header {
        flex-shrink: 0;
        height: 4rem; /* 64px - matches h-16 */
    }

    /* Main content area (home + loyalty) */
    .above-fold-content {
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    /* Home section - takes up most of the space */
    .home-section {
        flex: 2;
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
    }

    /* Loyalty section - compact at bottom */
    .loyalty-section-compact {
        flex-shrink: 0;
        background: white;
        padding: 1rem 0;
        border-top: 1px solid #e5e7eb;
    }

    /* Section spacing */
    .section-padding {
        @apply py-20 lg:py-32;
    }

    /* Specific class for products section - normal padding, not full viewport */
    .products-section {
        @apply py-20 lg:py-32 bg-white;
    }

    /* New styles for full viewport height sections */
    .full-viewport-section {
        height: 100vh;
    }

    /* Loyalty section - Full viewport height */
    .loyalty-section {
        @apply bg-white full-viewport-section flex items-center;
    }

    /* Loyalty banner responsive - BASE STYLES */
    .loyalty-content {
        @apply flex flex-wrap items-center justify-center;
        gap: 0;
        padding: 0.75rem 0; /* Reduced padding for compact design */
    }

    .loyalty-icon {
        @apply w-16 h-16 flex-shrink-0 hidden; /* Hidden by default (mobile), smaller for compact design */
        margin: 5px;
    }

    .loyalty-text {
        @apply text-base font-black text-brown leading-tight text-center; /* Reduced from text-lg */
        margin: 0 10px 10px;
        max-width: 100%;
    }

    .loyalty-buttons {
        @apply flex items-center justify-center;
        margin-left: 10px;
        margin-bottom: 10px;
        gap: 5px;
        flex-wrap: nowrap; /* Force items to stay on same line */
    }

    /* CTA Button (CREAR UNA CUENTA) - smaller for compact design */
    .loyalty-buttons button:first-child {
        @apply bg-brown hover:bg-brown-dark text-white font-bold transition-all duration-300 hover:scale-105 uppercase tracking-wide rounded-2xl;
        padding: 0 6px;
        min-width: auto;
        min-height: 40px;
        font-size: 0.875rem;
        white-space: nowrap;
        flex-shrink: 0;
    }

    /* OR text - smaller for compact design */
    .loyalty-buttons span {
        @apply text-brown font-medium;
        font-size: 14px;
        min-width: auto;
        text-align: center;
        margin: 0 4px;
        flex-shrink: 0;
    }

    /* Sign in text link (INICIAR SESIÃ“N) - smaller for compact design */
    .loyalty-buttons button:last-child {
        @apply bg-transparent text-brown font-medium hover:text-brown-dark uppercase tracking-wide underline decoration-2 underline-offset-4 hover:decoration-brown-dark transition-all duration-300;
        padding: 0;
        cursor: pointer;
        user-select: none;
        min-width: auto;
        font-size: 14px;
        flex-shrink: 0;
    }

    .sticky-header {
        position: sticky;
        top: 0;
        z-index: 50;
    }
}

/* ===== UTILITY OVERRIDES ===== */
@layer utilities {
    /* Custom gradient background */
    .gradient-bg {
        background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
    }

    /* Video styling */
    .bg-video {
        @apply w-full h-full object-cover;
    }

    /* Z-index management */
    .z-header {
        z-index: 50;
    }

    .z-cart {
        z-index: 60;
    }

    .z-toast {
        z-index: 70;
    }
}

/* ===== CART OVERLAY AND DRAWER FIXES ===== */
#cart-overlay {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
}

#cart-overlay.show {
    opacity: 1;
    visibility: visible;
}

#cart-drawer {
    transform: translateX(100%);
    transition: transform 0.3s ease-out;
}

#cart-drawer.show {
    transform: translateX(0);
}

/* Ensure proper stacking and visibility */
#cart-overlay {
    pointer-events: none;
}

#cart-overlay.show {
    pointer-events: auto;
}

/* ===== MOBILE RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 768px) {
    .hero-badge {
        @apply text-lg px-4 py-1;
        border-width: 3px;
    }

    .hero-subtitle {
        @apply text-sm tracking-wide;
    }

    .hero-description {
        @apply text-sm;
    }

    .btn, .btn-secondary {
        @apply px-6 py-3 text-sm;
    }

    .nav-link {
        @apply text-lg py-4 border-b border-gray-100;
    }

    /* Loyalty banner mobile - icon stays hidden, text centered */
    .loyalty-icon {
        @apply hidden;
    }

    .loyalty-text {
        margin-bottom: 10px;
    }

    /* Cart drawer full width on mobile */
    #cart-drawer {
        @apply w-full max-w-full;
    }
}

/* ===== DESKTOP RESPONSIVE ===== */
@media (min-width: 769px) {
    .loyalty-content {
        @apply flex-nowrap text-left;
        margin: 0;
    }

    .loyalty-icon {
        @apply flex; /* Show icon on desktop */
        height: 50px; /* Reduced from 62px for compact design */
        margin: 5px;
    }

    .loyalty-text {
        @apply text-left text-xl; /* Reduced from text-2xl */
        margin-left: 15px;
        margin-bottom: 0;
    }

    .loyalty-buttons {
        margin-left: 15px;
        margin-bottom: 0;
    }

    .loyalty-buttons button:last-child {
        margin-left: 10px;
    }

    /* Cart drawer fixed width on desktop */
    #cart-drawer {
        @apply max-w-md;
    }
}

/* ===== HEADER RESPONSIVE ===== */
@media (min-width: 1024px) {
    .location-picker, .user-actions {
        @apply min-h-12;
    }
}

@media (max-width: 1024px) {
    .mobile-menu {
        @apply top-16;
        height: calc(100vh - 4rem);
    }
}