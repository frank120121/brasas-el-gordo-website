/* assets/css/input.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===== COMPONENT CLASSES ===== */
@layer components {
    /* Navigation */
    .nav-link {
        @apply text-gray-700 font-bold text-sm uppercase tracking-wider transition-colors duration-200 hover:text-primary;
    }
    .nav-link.active {
        @apply text-primary;
    }

    /* Buttons */
    .btn {
        @apply bg-primary text-white font-bold uppercase tracking-wider px-12 py-4 transition-all duration-300 hover:bg-primary-dark hover:-translate-y-0.5;
    }

    .btn-secondary {
        @apply bg-transparent border-2 border-brown text-brown font-bold uppercase tracking-wider px-8 py-3 transition-all duration-300 hover:bg-brown hover:text-white;
    }

    /* Cards */
    .hover-lift {
        @apply transition-all duration-300 hover:-translate-y-2 hover:shadow-xl;
    }

    .product-card {
        @apply bg-white shadow-lg rounded-3xl;
    }

    /* Text effects */
    .text-gradient {
        @apply bg-gradient-to-r from-orange-500 to-orange-300 bg-clip-text text-transparent;
    }

    /* Animations */
    .fade-in {
        @apply opacity-0 translate-y-8 transition-all duration-700 ease-out;
    }
    .fade-in.visible {
        @apply opacity-100 translate-y-0;
    }

    .shine {
        @apply relative overflow-hidden;
    }
    .shine::before {
        content: '';
        @apply absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent transition-all duration-500;
        left: -100%;
    }
    .shine:hover::before {
        left: 100%;
    }

    /* Glass effects */
    .glass {
        @apply bg-white/10 backdrop-blur-sm border border-white/10;
    }

    .glass-dark {
        @apply bg-black/30 backdrop-blur-xl border border-white/10;
    }

    /* Header styles */
    .header-scrolled {
        @apply bg-white/95 backdrop-blur-xl shadow-lg border-b border-gray-200;
    }

    .location-picker, .user-actions {
        @apply flex items-center gap-2 text-brown px-2 py-1 rounded-lg cursor-pointer transition-all duration-200 hover:text-primary hover:bg-gray-50;
    }

    .cart-icon {
        @apply text-brown p-2 rounded-lg transition-all duration-200 hover:text-primary hover:bg-gray-50;
    }

    /* Mobile menu */
    .mobile-menu {
        @apply transform translate-x-full transition-transform duration-300 ease-in-out;
    }
    .mobile-menu.show {
        @apply translate-x-0;
    }

    /* Hero section */
    .hero-background {
        @apply absolute inset-0 z-0;
    }

    .hero-overlay {
        @apply absolute inset-0 bg-black/40 z-10;
    }

    .hero-content {
        @apply relative z-20;
    }

    .hero-badge {
        @apply border-4 border-white px-6 py-2 font-black text-white inline-block;
    }

    .hero-title-main {
        @apply font-black text-white leading-tight mb-4;
        font-size: clamp(3rem, 8vw, 6rem);
    }

    .hero-title-accent {
        @apply font-black text-orange-500 leading-none;
        font-size: clamp(4rem, 10vw, 8rem);
    }

    .hero-subtitle {
        @apply font-bold text-white tracking-widest mb-6;
    }

    .hero-description {
        @apply text-white leading-relaxed mb-8 max-w-2xl;
    }

    /* Cart styles - FIXED */
    .cart-item {
        @apply bg-white border border-gray-200 rounded-2xl p-4 transition-all duration-200 hover:shadow-md hover:-translate-y-0.5;
    }

    .cart-item-removing {
        @apply opacity-0 translate-x-full transition-all duration-300;
    }

    .quantity-btn {
        @apply w-8 h-8 rounded-full flex items-center justify-center font-bold transition-all duration-200 hover:scale-110 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100;
    }

    .remove-item-btn {
        @apply p-2 rounded-lg transition-all duration-200 hover:bg-red-50 hover:text-red-600 hover:scale-105;
    }

    .add-to-cart-btn {
        @apply bg-gray-900 text-white font-semibold px-6 py-3 rounded-2xl transition-all duration-300 hover:bg-orange-500;
    }
    .add-to-cart-btn.added {
        @apply bg-green-500 text-white;
    }

    /* Loading states */
    .cart-updating {
        @apply pointer-events-none opacity-70;
    }

    .cart-loading::after {
        content: '';
        @apply inline-block w-4 h-4 border-2 border-gray-300 border-t-orange-500 rounded-full ml-2;
        animation: spin 1s linear infinite;
    }

    /* Section spacing */
    .section-padding {
        @apply py-20 lg:py-32;
    }

    /* Loyalty banner responsive */
    .loyalty-content {
        @apply flex items-center justify-center gap-8 text-center lg:text-left;
    }

    .loyalty-icon {
        @apply w-24 h-24 flex-shrink-0;
    }

    .loyalty-text {
        @apply text-2xl font-black text-brown mb-6;
    }

    .loyalty-buttons {
        @apply flex items-center gap-4;
    }
}

/* ===== UTILITY OVERRIDES ===== */
@layer utilities {
    /* Custom gradient background */
    .gradient-bg {
        background: linear-gradient(135deg, #1a1a1a 0%, #2a2a2a 100%);
    }

    /* Video styling */
    .bg-video {
        @apply w-full h-full object-cover;
    }

    /* Z-index management */
    .z-header {
        z-index: 50;
    }

    .z-cart {
        z-index: 60;
    }

    .z-toast {
        z-index: 70;
    }
}

/* ===== CART OVERLAY AND DRAWER FIXES ===== */
#cart-overlay {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
}

#cart-overlay.show {
    opacity: 1;
    visibility: visible;
}

#cart-drawer {
    transform: translateX(100%);
    transition: transform 0.3s ease-out;
}

#cart-drawer.show {
    transform: translateX(0);
}

/* Ensure proper stacking and visibility */
#cart-overlay {
    pointer-events: none;
}

#cart-overlay.show {
    pointer-events: auto;
}

/* ===== MOBILE RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 768px) {
    .hero-badge {
        @apply text-lg px-4 py-1;
        border-width: 3px;
    }

    .hero-subtitle {
        @apply text-sm tracking-wide;
    }

    .hero-description {
        @apply text-sm;
    }

    .btn, .btn-secondary {
        @apply px-6 py-3 text-sm;
    }

    .nav-link {
        @apply text-lg py-4 border-b border-gray-100;
    }

    .loyalty-content {
        @apply flex-col gap-6;
    }

    .loyalty-icon {
        @apply w-16 h-16;
    }

    .loyalty-text {
        @apply text-lg max-w-xs leading-tight;
    }

    .loyalty-buttons {
        @apply flex-col w-full gap-3;
    }

    .loyalty-buttons button {
        @apply w-full max-w-xs px-6 py-4 text-sm rounded-2xl;
    }

    /* Hide "O" text on mobile */
    .loyalty-content span:not(.font-black) {
        @apply hidden;
    }

    /* Cart drawer full width on mobile */
    #cart-drawer {
        @apply w-full max-w-full;
    }
}

@media (min-width: 769px) {
    .loyalty-content {
        @apply flex-row text-left;
    }

    .loyalty-buttons {
        @apply flex-row;
    }

    .loyalty-buttons button {
        @apply w-auto px-8 py-3;
    }

    /* Show "O" text on desktop */
    .loyalty-content span {
        @apply block;
    }

    /* Cart drawer fixed width on desktop */
    #cart-drawer {
        @apply max-w-md;
    }
}

/* ===== HEADER RESPONSIVE ===== */
@media (min-width: 1024px) {
    .location-picker, .user-actions {
        @apply min-h-12;
    }
}

@media (max-width: 1024px) {
    .mobile-menu {
        @apply top-16;
        height: calc(100vh - 4rem);
    }
}